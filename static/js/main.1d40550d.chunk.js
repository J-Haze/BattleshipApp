(this["webpackJsonplibrary-react"]=this["webpackJsonplibrary-react"]||[]).push([[0],[,,,,function(e,a,t){e.exports=t.p+"static/media/winning-image.bbc758c8.png"},function(e,a,t){e.exports=t.p+"static/media/losing-image.cb9575d0.png"},function(e,a,t){e.exports=t.p+"static/media/battleship.3bcbc474.png"},function(e,a,t){e.exports=t(14)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),c=t(3),n=t.n(c),s=(t(12),t(13),t(1)),i=function(e){var a={1:"Submarine",2:"Destroyer",3:"Cruiser",4:"Battleship",5:"Carrier"}[e];1==e&&(e=3);for(var t=[],r=0;r<e;r++)t.push([!1,r,a]);return{name:a,shipLength:e,ship:t,hit:function(e){return t[e]=[!0,e,a],console.log("Hit!",t),console.log("You've hit my ".concat(a)),t},isSunk:function(){var e=!1;for(var a in e=1==t[0][0],t)e=t[a][0]&&e;return e}}},o=function(){for(var e=i(2),a=i(3),t=i(3),r=i(4),l=i(5),c=[],n=0;n<=99;n++)c.push(null);var s=[],o=!1,m=[],u=!1;return{board:c,placeShip:function(e,a,t){if(m.includes(e))return c;var r="",l="";if("carrier"==e)r=5,l=i(5);else if("battleship"==e)r=4,l=i(4);else if("cruiser"==e)r=3,l=i(3);else if("submarine"==e)r=3,l=i(1);else{if("destroyer"!=e)return c;r=2,l=i(2)}var n=0,s=99;if("horizontal"==t){for(var o=a;o<a+r;o++)if(null!=c[o])return c;n=(a+r-1)/10,s=a%10==0?a/10+.9:Math.ceil(a/10)-.1}if("vertical"==t){for(var d=a;d<a+10*r;d+=10)if(null!=c[d])return console.log("Illegal placement: ship already on square: ".concat(d)),c;n=a+10*(r-1),s=99}if(n>s)return console.log("Illegal placement: over edge of board"),c;for(var h in c){if(a==h&&"horizontal"==t)for(var p=a;p<a+r;p++)c.splice(p,1,l.ship[p-a]);else if(a==h&&"vertical"==t)for(var v=a;v<a+10*r;v+=10)c.splice(v,1,l.ship[(v-a)/10]);m.includes(e)||m.push(e),u=m.length>4}return{board:c,allPlaced:u,boatsPlaced:m}},boatsPlaced:m,allPlaced:u,receiveAttack:function(n){var i=c[n];if(null==c[n])return console.log("Attack missed"),c[n]="miss",c;if(1==i[0]||"miss"==c[n])return console.log("Already guessed this position"),c;if(0==i[0]){console.log("Receive Attack hit!");var m=i[1],u=i[2],d="";"Carrier"==u?d=l:"Battleship"==u?d=r:"Cruiser"==u?d=t:"Destroyer"==u?d=e:"Submarine"==u&&(d=a),d.hit(m),c[n][0]=!0,d.isSunk()&&(console.log("Player's ".concat(u," is sunk!")),s.push(u)),s.length>4&&(o=!0,console.log("ALL BOATS SUNK"))}return{board:c,allSunk:o,boatsSunk:s}},allSunk:o,boatsSunk:s}},m=function(e){for(var a=o(),t=100,r=100,l=[],c=0;c<=99;c++)l.push(c);return{gameboard:a,squaresToGuess:l,sendAttack:function(a){return"Player"==e?(t=a,r=l.indexOf(t),l.splice(r,1)):(t=Math.floor(Math.random()*(l.length-1)),r=l.indexOf(t),l.splice(r,1)),t}}};var u=function(e){var a=10*e.row+e.col,t=null,r=null;"setup"==e.phase?(t=function(){return e.handlePlaceShip(a)},r=null):"playerTurn"==e.phase&&(t=null,r=function(){return e.handleClick(a)});var c="";c="setup"==e.phase?" clickable":"";var n="";return n="playerTurn"==e.phase?"clickable":"","player"==e.boardID?l.a.createElement("div",{className:"square"},null!=e.squareObj?0==e.squareObj[0]?l.a.createElement("div",{className:"ship",key:a}):1==e.squareObj[0]?l.a.createElement("div",{className:"hit",key:a},"+"):"sunk"==e.squareObj[0]?l.a.createElement("div",{className:"sunk",key:a},"+"):"miss"==e.squareObj?l.a.createElement("div",{className:"miss",key:a},"\u2022"):l.a.createElement("div",null,"error"):l.a.createElement("div",{className:"empty ".concat(c),key:a,onClick:t})):l.a.createElement("div",{className:"square"},null!=e.squareObj?0==e.squareObj[0]?l.a.createElement("div",{className:"empty ".concat(n),key:a,onClick:r}):1==e.squareObj[0]?l.a.createElement("div",{className:"hit",key:a},"+"):"sunk"==e.squareObj[0]?l.a.createElement("div",{className:"sunk",key:a},"+"):"miss"==e.squareObj?l.a.createElement("div",{className:"miss",key:a},"\u2022"):l.a.createElement("div",null,"error"):l.a.createElement("div",{className:"empty ".concat(n),key:a,onClick:r}))};var d=function(e){var a=e.roww,t=e.rowObj,c=e.handleClick,n=e.phase,s=e.boardID,i=e.handlePlaceShip,o=e.update;return Object(r.useEffect)((function(){t=t}),[o]),l.a.createElement("div",{className:"row"},t.map((function(e,t){return l.a.createElement(u,{key:t,row:a,col:t,squareObj:e,handleClick:c,phase:n,boardID:s,handlePlaceShip:i})})))};var h=function(e){var a=e.id,t=e.board,c=e.phase,n=e.boardID,i=e.handlePlaceShip,o=e.update,m=Object(r.useState)([]),u=Object(s.a)(m,2),h=u[0],p=u[1];return Object(r.useEffect)((function(){for(var e=[],a=0;a<t.length;a+=10)e.push(t.slice(a,a+10));p(e)}),[o]),l.a.createElement("div",{id:a,className:"board"},h.map((function(e,a){return l.a.createElement(d,{key:a,roww:a,rowObj:e,phase:c,boardID:n,handlePlaceShip:i})})))};var p=function(e){var a="",t="",r="",c="",n="",s="clickable",i="clickable",o="clickable",m="clickable",u="clickable";return a="carrier"==e.placingShip||e.boatsPlaced.includes("carrier")?" toggle":"",t="battleship"==e.placingShip||e.boatsPlaced.includes("battleship")?" toggle":"",r="cruiser"==e.placingShip||e.boatsPlaced.includes("cruiser")?" toggle":"",c="submarine"==e.placingShip||e.boatsPlaced.includes("submarine")?" toggle":"",n="destroyer"==e.placingShip||e.boatsPlaced.includes("destroyer")?" toggle":"",s=e.boatsPlaced.includes("carrier")?"":"clickable",i=e.boatsPlaced.includes("battleship")?"":"clickable",o=e.boatsPlaced.includes("cruiser")?"":"clickable",m=e.boatsPlaced.includes("submarine")?"":"clickable",u=e.boatsPlaced.includes("destroyer")?"":"clickable","horizontal"==e.orient?l.a.createElement("div",{id:e.id,className:"player-fleet"},l.a.createElement("div",{className:"carrier-horizontal ".concat(s," ship-harbor-horizontal-player").concat(a),onClick:function(){return e.togglePlacement("carrier")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"battleship-horizontal ".concat(i," ship-harbor-horizontal-player").concat(t),onClick:function(){return e.togglePlacement("battleship")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"cruiser-horizontal ".concat(o," ship-harbor-horizontal-player").concat(r),onClick:function(){return e.togglePlacement("cruiser")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"submarine-horizontal ".concat(m," ship-harbor-horizontal-player").concat(c),onClick:function(){return e.togglePlacement("submarine")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"destroyer-horizontal ".concat(u," ship-harbor-horizontal-player").concat(n),onClick:function(){return e.togglePlacement("destroyer")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}))):l.a.createElement("div",{id:e.id,className:"fleet-vertical"},l.a.createElement("div",{className:"carrier-vertical ".concat(s," ship-harbor-vertical").concat(a),onClick:function(){return e.togglePlacement("carrier")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"battleship-vertical ".concat(i," ship-harbor-vertical").concat(t),onClick:function(){return e.togglePlacement("battleship")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"cruiser-vertical ".concat(o," ship-harbor-vertical").concat(r),onClick:function(){return e.togglePlacement("cruiser")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"submarine-vertical ".concat(m," ship-harbor-vertical").concat(c),onClick:function(){return e.togglePlacement("submarine")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})),l.a.createElement("div",{className:"destroyer-vertical ".concat(u," ship-harbor-vertical").concat(n),onClick:function(){return e.togglePlacement("destroyer")}},l.a.createElement("div",{className:"fleet-square"}),l.a.createElement("div",{className:"fleet-square"})))};var v=function(e){var a="",t="",r="",c="",n="";return a=e.boatsSunk.includes("Carrier")?"sunk":"",t=e.boatsSunk.includes("Battleship")?"sunk":"",r=e.boatsSunk.includes("Cruiser")?"sunk":"",c=e.boatsSunk.includes("Submarine")?"sunk":"",n=e.boatsSunk.includes("Destroyer")?"sunk":"",l.a.createElement("div",{id:e.id},l.a.createElement("div",{className:"ship-text"},"Aircraft Carrier"),l.a.createElement("div",{className:"carrier-horizontal ship-harbor-horizontal"},l.a.createElement("div",{className:"fleet-square ".concat(a)}),l.a.createElement("div",{className:"fleet-square ".concat(a)}),l.a.createElement("div",{className:"fleet-square ".concat(a)}),l.a.createElement("div",{className:"fleet-square ".concat(a)}),l.a.createElement("div",{className:"fleet-square ".concat(a)})),l.a.createElement("div",{className:"ship-text"}," Battleship "),l.a.createElement("div",{className:"battleship-horizontal ship-harbor-horizontal"},l.a.createElement("div",{className:"fleet-square ".concat(t)}),l.a.createElement("div",{className:"fleet-square ".concat(t)}),l.a.createElement("div",{className:"fleet-square ".concat(t)}),l.a.createElement("div",{className:"fleet-square ".concat(t)})),l.a.createElement("div",{className:"ship-text"},"Cruiser"),l.a.createElement("div",{className:"cruiser-horizontal ship-harbor-horizontal"},l.a.createElement("div",{className:"fleet-square ".concat(r)}),l.a.createElement("div",{className:"fleet-square ".concat(r)}),l.a.createElement("div",{className:"fleet-square ".concat(r)})),l.a.createElement("div",{className:"ship-text"},"Submarine"),l.a.createElement("div",{className:"submarine-horizontal ship-harbor-horizontal"},l.a.createElement("div",{className:"fleet-square ".concat(c)}),l.a.createElement("div",{className:"fleet-square ".concat(c)}),l.a.createElement("div",{className:"fleet-square ".concat(c)})),l.a.createElement("div",{className:"ship-text"},"Destroyer"),l.a.createElement("div",{className:"destroyer-horizontal ship-harbor-horizontal"},l.a.createElement("div",{className:"fleet-square ".concat(n)}),l.a.createElement("div",{className:"fleet-square ".concat(n)})))},b=t(4),f=t.n(b),E=t(5),N=t.n(E);var g=function(e){return"Player"==e.winner?l.a.createElement("div",{className:"modal"},l.a.createElement("div",{id:"player-wins",className:"modal-content"},l.a.createElement("span",{className:"close",onClick:e.hideModal},"\xd7"),l.a.createElement("div",{className:"message"},"You Win!"),l.a.createElement("img",{id:"winning-img",className:"image",src:f.a}),l.a.createElement("div",{id:"newGame",onClick:function(){return e.newGame()}},"Play again?"))):l.a.createElement("div",{className:"modal"},l.a.createElement("div",{id:"computer-wins",className:"modal-content"},l.a.createElement("span",{className:"close",onClick:e.hideModal},"\xd7"),l.a.createElement("div",{className:"message"}," You Lose."),l.a.createElement("img",{id:"losing-img",className:"image",src:N.a}),l.a.createElement("div",{id:"renewGame",onClick:function(){return e.newGame()}},"Play again?")))};var k=function(){var e=Object(r.useState)(m("Player")),a=Object(s.a)(e,2),t=a[0],c=a[1],n=Object(r.useState)(m("Computer")),i=Object(s.a)(n,2),o=i[0],u=i[1],b=Object(r.useState)([]),f=Object(s.a)(b,2),E=f[0],N=f[1],k=[],y=Object(r.useState)("horizontal"),q=Object(s.a)(y,2),S=q[0],w=q[1],P=Object(r.useState)(null),C=Object(s.a)(P,2),O=C[0],j=C[1],z=Object(r.useState)(!1),T=Object(s.a)(z,2),A=T[0],I=T[1],M=Object(r.useState)(!1),x=Object(s.a)(M,2),D=x[0],B=x[1],G=Object(r.useState)("setup"),H=Object(s.a)(G,2),L=H[0],R=H[1],W=Object(r.useState)(!1),Y=Object(s.a)(W,2),J=Y[0],K=Y[1],U=Object(r.useState)(null),$=Object(s.a)(U,2),F=$[0],Q=$[1],V="",X="",Z="";function _(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e+1))+e}function ee(e){for(;!t.gameboard.boatsPlaced.includes(e);)V=_(0,99),X=_(0,1),Z=0==X?"horizontal":"vertical",t.gameboard.placeShip(e,V,Z)}function ae(e){for(;!o.gameboard.boatsPlaced.includes(e);)V=_(0,99),X=_(0,1),Z=0==X?"horizontal":"vertical",o.gameboard.placeShip(e,V,Z)}function te(e){"player"==e&&(re(),ee("carrier"),c(t),ee("battleship"),c(t),ee("cruiser"),c(t),ee("submarine"),c(t),ee("destroyer"),c(t),B(!D)),"computer"==e&&(ae("carrier"),u(o),ae("battleship"),u(o),ae("cruiser"),u(o),ae("submarine"),u(o),ae("destroyer"),u(o),B(!D),I(!A))}function re(){c(m("Player")),u(m("Computer")),j(null),B(!D),I(!A)}var le="";function ce(e){le=t.sendAttack(e),o.gameboard.receiveAttack(le),I(!A),console.log("allSunk?",o.gameboard.boatsSunk.length),o.gameboard.boatsSunk.length>4?(console.log(o.gameboard.boatsSunk),Q("Player"),K(!0),R("gameOver")):R("computerTurn")}function ne(){re(),K(!1),Q(null),R("setup")}return Object(r.useEffect)((function(){!function(e){k=[];for(var a=0;a<e.length;a+=10)k.push(e.slice(a,a+10));N(k)}(o.gameboard.board)}),[o,A]),Object(r.useEffect)((function(){"computerTurn"==L&&(le=o.sendAttack(1),t.gameboard.receiveAttack(le),c(t),B(!D),I(!A),t.gameboard.boatsSunk.length>4?(console.log(t.gameboard.boatsSunk),Q("Computer"),K(!0),R("gameOver")):R("playerTurn"))}),[L]),l.a.createElement("div",{id:"game"},l.a.createElement("div",{id:"header-row"},l.a.createElement("div",{id:"player-title",className:"title"},"Player"),l.a.createElement("div",{id:"computer-title",className:"title"},"Computer")),l.a.createElement("div",{id:"top-row"},J&&l.a.createElement(g,{winner:F,newGame:ne,hideModal:function(){K(!1)}}),l.a.createElement("div",{id:"setup"},"setup"==L?l.a.createElement("div",{id:"setup-container"},l.a.createElement(p,{id:"setup-fleet",className:"player-fleet",orient:S,togglePlacement:function(e){t.gameboard.boatsPlaced.includes(e)?console.log("Ship already placed"):j(O==e?null:e)},placingShip:O,phase:L,boatsPlaced:t.gameboard.boatsPlaced,update:D}),l.a.createElement("div",{id:"setup-buttons"},l.a.createElement("div",{id:"rotate",className:"btn",onClick:function(){"vertical"==S?w("horizontal"):"horizontal"==S?w("vertical"):console.log("error- rotation")}},"Rotate"),l.a.createElement("div",{id:"auto-place",className:"btn",onClick:function(){return te("player")}},"Auto Place"),l.a.createElement("div",{id:"reset",className:"btn",onClick:function(){return re()}},"Reset"))):l.a.createElement(v,{id:"player-fleet",phase:L,boatsSunk:t.gameboard.boatsSunk,refresh:A})),l.a.createElement("div",{id:"col-one",className:"column"},l.a.createElement(h,{key:"player",id:"player-board",board:t.gameboard.board,phase:L,boardID:"player",handlePlaceShip:function(e){t.gameboard.placeShip(O,e,S),c(t),B(!D)},update:D})),l.a.createElement("div",{id:"col-two",className:"column"},l.a.createElement("div",{id:"computer-board",className:"board"},E.map((function(e,a){return l.a.createElement(d,{key:a,roww:a,rowObj:e,handleClick:ce,phase:L,boardID:"computer",update:D})})))),l.a.createElement(v,{id:"computer-fleet",phase:L,boatsSunk:o.gameboard.boatsSunk,refresh:A})),l.a.createElement("div",{id:"bottom-row"},"setup"==L?l.a.createElement("div",{id:"start-button",onClick:function(){t.gameboard.boatsPlaced.length>4&&(te("computer"),R("playerTurn"))}},"Start"):l.a.createElement("div",{id:"newGame",onClick:function(){return ne()}},"New Game")))};var y=function(e){return l.a.createElement("div",{className:"modal",onClick:function(){e.hideHowTo()}},l.a.createElement("div",{id:"howToModal",className:"modal-content",onClick:function(e){e.stopPropagation()}},l.a.createElement("span",{className:"close",onClick:function(){e.hideHowTo()}},"\xd7"),l.a.createElement("div",{className:"howToTop"}," ",l.a.createElement("strong",null,"How To Play:")),l.a.createElement("div",{className:"howToBottom space"},l.a.createElement("div",{className:"head"}," ",l.a.createElement("strong",null,"Objective:")),l.a.createElement("div",{className:"space "},"The object of Battleship is to try and sink all of the Computer's ships before they sink all of your ships."),l.a.createElement("div",{className:"space "},"All of the Computer's ships are hidden somewhere on their board. On your turns, you will select squares on the Computer's board to attack. On the Computer's turns, the computer will guess squares on your board to attack. Neither you nor the Computer can see the other's ships so you must try to guess where they are."),l.a.createElement("div",{className:"phases head"},l.a.createElement("strong",null,"Phases:")),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"setup-space  list"},l.a.createElement("strong",null,"1. Setup:")),l.a.createElement("div",{className:""},'Place your ships somewhere on the board. Or select "Auto Place" to have the ships randomly placed on your board. Then select the "Start" button to begin the game.'),l.a.createElement("div",{className:"space  list"},l.a.createElement("strong",null,"2. Player Turn:")),l.a.createElement("div",{className:""},"Select a square on the Computer's board to attack. If the attack hits one of the Computer's ships, the square will turn red. If the attack misses the Computer's ships, the square will turn blue."),l.a.createElement("div",{className:"space  list"},l.a.createElement("strong",null,"3. Computer Turn:")),l.a.createElement("div",{className:""},"Select a square on the Computer's board to attack. If the attack hits one of the Computer's ships, the square will turn red."),l.a.createElement("div",{className:"space  list"},l.a.createElement("strong",null,"4. Repeat 2 & 3: ")),l.a.createElement("div",{className:""},"Player and Computer alternate turns until a player sinks all of the other player's ships. When a ship is sunk, the ship in the player's fleet will fade. The first person to sink all 5 of the other player's ships is declared the winner!")))))},q=t(6),S=t.n(q);var w=function(){var e=Object(r.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1];return l.a.createElement("header",null,l.a.createElement("div",{id:"battleship"},"BattleShip"),l.a.createElement("img",{id:"battleship-icon",src:S.a}),l.a.createElement("div",{id:"how-to",onClick:function(){c(!0)}}," How To Play"),t&&l.a.createElement(y,{hideHowTo:function(){c(!1)}}))};var P=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(w,null),l.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.1d40550d.chunk.js.map